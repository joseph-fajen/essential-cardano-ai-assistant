{
  "url": "https://docs.cardano.org/developer-resources/transaction-tutorials/stake-transaction",
  "content": "![Cardano logo](/assets/cardano-logo.svg)\n![Cardano logo](/assets/cardano-logo.svg)\n\n# Staking transactions\n\nStaking is a fundamental feature of Cardano, allowing you to earn rewards by delegating ada to stake pools. This tutorial shows how to delegate your ada to a stake pool, withdraw rewards, or stop delegating your ada if you decide to switch to another stake pool.\n\nTo delegate ada, first, you need to generate a stake key pair. This involves creating a `stake.vkey` and `stake.skey`, in addition to your regular payment key pair (`payment.vkey` and `payment.skey`), and obtaining a new address called `stake.addr`, similar to your `payment.addr`.\n\n`stake.vkey`\n`stake.skey`\n`payment.vkey`\n`payment.skey`\n`stake.addr`\n`payment.addr`\n\nAssuming you already have your `payment.vkey` and `payment.skey`, which you can easily generate using the `cardano-cli address key-gen` command, proceed by creating the `stake.vkey` and `stake.skey`:\n\n`payment.vkey`\n`payment.skey`\n`cardano-cli address key-gen`\n`stake.vkey`\n`stake.skey`\n`cardano-cli stake-address key-gen \\  \n --verification-key-file stake.vkey \\  \n --signing-key-file stake.skey`\n\nNow you have your payment key pair and stake key pair. The next step is to build the `payment.addr` and `stake.addr` files:\n\n`payment.addr`\n`stake.addr`\n`# payment.addr  \ncardano-cli address build \\  \n --payment-verification-key-file payment.vkey \\  \n --stake-verification-key-file stake.vkey \\  \n --out-file payment.addr`\n\nNote that the example includes the `--stake-verification-key-file` argument. This command is used to create an address that includes its staking part. Addresses without a staking part are primarily used for sending and receiving ada, as well as interacting with DApps. Some examples may omit this argument, but it's crucial for delegation and participating in the staking process.\n\n`--stake-verification-key-file`\n`# stake.addr  \ncardano-cli stake-address build \\  \n --stake-verification-key-file stake.vkey \\  \n --out-file stake.addr`\n\nThis command uses only the stake verification file.\n\nBefore proceeding with delegation, it's essential to create two new certificates: a registration certificate and a delegation certificate. These files are required to register the stake key on the blockchain and indicate your intention to delegate ada.\n\nThis command generates a certificate, which indicates the intention to register the stake key:\n\n`# registration.cert  \ncardano-cli stake-address registration-certificate \\  \n --stake-verification-key-file stake.vkey \\  \n --out-file reg.cert`\n\nCreate a delegation certificate:\n\n`# delegate.cert  \ncardano-cli stake-address delegation-certificate \\  \n --stake-verification-key-file stake.vkey \\  \n --stake-pool-id pool18pn6p9ef58u4ga3wagp44qhzm8f6zncl57g6qgh0pk3yytwz54h \\  \n --out-file delegation.cert`\n\nAt this stage of the tutorial, you should have already selected a stake pool. The example features ADACT (PoolId: pool18pn6p9ef58u4ga3wagp44qhzm8f6zncl57g6qgh0pk3yytwz54h). You can list all pools using the command `cardano-cli query stake-pools` or visit <https://preview.cardanoscan.io/pools> to select the pool that best suits your needs. Please note that the example uses the `preview` testnet. If you're using another testnet or mainnet, make sure that the pool ID is on the correct network.\n\n`cardano-cli query stake-pools`\n`preview`\n\nNow that you have the `reg.cert` and `delegation.cert` files, you can proceed to the next step. You need to send a transaction containing the certificates. There are two options: sending them individually or sending them together. The example shows how to send them both at the same time.\n\n`reg.cert`\n`delegation.cert`\n\nStart by querying the funds of `payment.addr`:\n\n`payment.addr`\n`cardano-cli query utxo --address $(cat payment.addr)  \n TxHash TxIx Amount  \n--------------------------------------------------------------------------------------  \n142c46bb93b9c80140a6302e4a8a360e6f46f55aaf001c825ca790bb23572754 0 10000000000 lovelace + TxOutDatumNone`\n\nIf there are no funds in the address, you can request them from the [faucet](https://docs.cardano.org/cardano-testnet/tools/faucet/). Make sure you select the right testnet.\n\nIt's time to build, sign, and submit your transaction.\n\nThe command below introduces two new arguments of transaction creation: `--witness-override` and `certificate-file`. The first one specifies that the transaction will require two signatures. Therefore, transaction fees will be higher. `certificate-file` adds your new certificates to the transaction:\n\n`--witness-override`\n`certificate-file`\n`certificate-file`\n`cardano-cli transaction build \\  \n --witness-override 2 \\  \n --tx-in 142c46bb93b9c80140a6302e4a8a360e6f46f55aaf001c825ca790bb23572754#0 \\  \n --certificate-file reg.cert \\  \n --certificate-file delegation.cert \\  \n --change-address $(cat payment.addr) \\  \n --out-file delegateTx.raw`\n\nIn the signing phase, you need to add two signatures: `payment.skey` and `stake.skey`:\n\n`payment.skey`\n`stake.skey`\n`cardano-cli transaction sign \\  \n --tx-body-file delegateTx.raw \\  \n --signing-key-file payment.skey \\  \n --signing-key-file stake.skey \\  \n --out-file delegateTx.signed  \n   \ncardano-cli transaction submit \\  \n --tx-file delegateTx.signed  \nTransaction successfully submitted.`\n\nOnce the transaction is submitted and processed, you have successfully delegated your ada. Now, let's take a look at your delegation and rewards:\n\n`cardano-cli query stake-address-info --address $(cat stake.addr)  \n[  \n {  \n \"address\": \"stake_test1uq954t492tmusk2dy9z505g3cz3sfpnh0swsqjmzk47rasqyn8uqp\",  \n \"delegation\": \"pool18pn6p9ef58u4ga3wagp44qhzm8f6zncl57g6qgh0pk3yytwz54h\",  \n \"rewardAccountBalance\": 0  \n }  \n]`\n\nAfter a few days, you will receive rewards, and the next part of the tutorial demonstrates how to withdraw them.\n\n![Cardano Logo](/assets/cardano-logo-blue.svg)\n![Cardano Logo](/assets/cardano-logo.svg)\n\nCardano is an open-source project. Cardano is a software platform ONLY and does not conduct any independent diligence on, or substantive review of, any blockchain asset, digital currency, cryptocurrency or associated funds. You are fully and solely responsible for evaluating your investments, for determining whether you will exchange blockchain assets based on your own judgement, and for all your decisions as to whether to exchange blockchain assets with Cardano. In many cases, blockchain assets you exchange on the basis of your research may not increase in value, and may decrease in value. Similarly, blockchain assets you exchange on the basis of your research may fall or rise in value after your exchange. Past performance is not indicative of future results. Any investment in blockchain assets involves the risk of loss of part or all of your investment. The value of the blockchain assets you exchange is subject to market and other investment risks.\n\nThis work is licensed under CC BY 4.0\n\nÂ© IOHK 2015-2025 - IOHK Supported Project",
  "images": [],
  "extraction_metadata": {
    "batch_number": 5,
    "extraction_timestamp": "2025-09-29T13:36:21.065926",
    "extraction_time": 2.0337350368499756,
    "source": "tavily_api_raw"
  }
}