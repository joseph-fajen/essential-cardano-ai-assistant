{
  "url": "https://developers.cardano.org/docs/operate-a-stake-pool/register-stake-pool",
  "content": "![Cardano Logo](/img/cardano-black.svg)\n![Cardano Logo](/img/cardano-white.svg)\n\n# Registering a Pool (JSON Metadata)\n\nRegistering your stake pool requires:\n\nGenerating the stake pool registration certificate and the delegation certificate requires the cold keys. So, when doing this on mainnet you may want to generate these certificates in your local machine taking the proper security measures to avoid exposing your cold keys to the internet.\n\nBefore starting, make sure you have access to:\n\n| File | Content |\n| --- | --- |\n| `payment.vkey` | payment verification key |\n| `payment.skey` | payment signing key |\n| `stake.vkey` | staking verification key |\n| `stake.skey` | staking signing key |\n| `stake.addr` | registered stake address |\n| `payment.addr` | funded address linked to `stake` |\n| `cold.vkey` | cold verification key |\n| `cold.skey` | cold signing key |\n| `cold.counter` | issue counter |\n| `node.cert` | operational certificate |\n| `kes.vkey` | KES verification key |\n| `kes.skey` | KES signing key |\n| `vrf.vkey` | VRF verification key |\n| `vrf.skey` | VRF signing key |\n| `protocol.json` | protocol parameters file |\n\n`payment.vkey`\n`payment.skey`\n`stake.vkey`\n`stake.skey`\n`stake.addr`\n`payment.addr`\n`stake`\n`cold.vkey`\n`cold.skey`\n`cold.counter`\n`node.cert`\n`kes.vkey`\n`kes.skey`\n`vrf.vkey`\n`vrf.skey`\n`protocol.json`\n\n## Create JSON file with your metadata[​](#create-json-file-with-your-metadata \"Direct link to Create JSON file with your metadata\")\n\n`ticker` must be between 3-9 characters in length. Characters must be A-Z and 0-9 only.\n`description` cannot exceed 255 characters in length.\n\n`ticker`\n`description`\n`cat > poolMetaData.json << EOF  \n{  \n\"name\": \"YourPoolName\",  \n\"description\": \"Your pool description\",  \n\"ticker\": \"PN\",  \n\"homepage\": \"https://yourpoollink.com\"  \n}  \nEOF`\n\nCalculate the hash of your metadata file. Here it's saved to `poolMetaDataHash.txt`:\n\n`poolMetaDataHash.txt`\n`cardano-cli stake-pool metadata-hash --pool-metadata-file poolMetaData.json > poolMetaDataHash.txt`\n\n## Get the hash of your JSON file[​](#get-the-hash-of-your-json-file \"Direct link to Get the hash of your JSON file\")\n\nMake your poolMetadata.json available as a web URL accessible on internet, ideally without redirections. You can do so by uploading it to your website as well.\nVerify the metadata hashes by comparing your uploaded .json file and your local .json file's hash.\n\n`cardano-cli stake-pool metadata-hash --pool-metadata-file <(curl -s -L <https://REPLACE WITH YOUR METADATA_URL>)  \n  \ncat poolMetaDataHash.txt`\n\nBoth the hashes must be equal. If the hashes do no match, then the uploaded .json file likely was truncated or extra whitespace caused issues. Upload the .json again or to a different web host.\n\n## Generate the stake pool registration certificate[​](#generate-the-stake-pool-registration-certificate \"Direct link to Generate the stake pool registration certificate\")\n\nFind the minimum pool cost:\n\n`minPoolCost=$(cat protocol.json | jq -r .minPoolCost)  \necho minPoolCost: ${minPoolCost}`\n\nGenerate the stake pool registration certificate:\n\n`cardano-cli stake-pool registration-certificate \\  \n --cold-verification-key-file cold.vkey \\  \n --vrf-verification-key-file vrf.vkey \\  \n --pool-pledge 100000000 \\  \n --pool-cost 340000000 \\  \n --pool-margin 0.01 \\  \n --pool-reward-account-verification-key-file stake.vkey \\  \n --pool-owner-stake-verification-key-file stake.vkey \\  \n --testnet-magic 1 \\  \n --single-host-pool-relay <dns based relay, example ~ relaynode1.yourpoolname.com> \\  \n --pool-relay-port 6000 \\  \n --metadata-url <url where you uploaded poolMetaData.json> \\  \n --metadata-hash $(cat poolMetaDataHash.txt) \\  \n --out-file pool.cert`\n\nIn case you have multiple relays, please substitute the `single-host-pool-relay` & `pool-relay-port` lines from above with the below code accordingly.\n\n`single-host-pool-relay`\n`pool-relay-port`\n\nDNS based relays, 1 entry per DNS record\n\n `--single-host-pool-relay <relaynode1.yourpoolname.com> \\  \n --pool-relay-port 6000 \\  \n --single-host-pool-relay <relaynode2.yourpoolname.com> \\  \n --pool-relay-port 6000 \\`\n\nSRV based relays\n\n `--multi-host-pool-relay <relaynodes.yourpoolname.com> \\`\n\nIP based relays, 1 entry per IP address\n\n `--pool-relay-port 6000 \\  \n --pool-relay-ipv4 <first relay node public IP> \\  \n --pool-relay-port 6000 \\  \n --pool-relay-ipv4 <second relay node public IP> \\`\n\n| Parameter | Explanation |\n| --- | --- |\n| cold-verification-key-file | verification *cold* key |\n| vrf-verification-key-file | verification *VRF* key |\n| pool-pledge | pledge lovelace |\n| pool-cost | operational costs per epoch lovelace |\n| pool-margin | operator margin |\n| pool-reward-account-verification-key-file | verification staking key for the rewards |\n| pool-owner-staking-verification-key-file | verification staking keys for the pool owners |\n| single-host-pool-relay | relay node dns |\n| pool-relay-port | port |\n| metadata-url | url of your json file |\n| metadata-hash | the hash of pools json metadata file |\n| out-file | output file to write the certificate to |\n\nIn case an error similar to the one below appears, then the URL length needs to be reduced:\n\n`*--metadata-url: The provided string must have at most 64 characters, but it has 70 characters`\n\nand you must generate the certificate again with the new, shorter URL.\n\n## Create a delegation certificate pledge[​](#create-a-delegation-certificate-pledge \"Direct link to Create a delegation certificate pledge\")\n\nTo honor your pledge, create a delegation certificate:\n\n`cardano-cli stake-address delegation-certificate \\  \n --stake-verification-key-file stake.vkey \\  \n --cold-verification-key-file cold.vkey \\  \n --out-file deleg.cert`\n\nThis creates a delegation certificate which delegates funds from all stake addresses associated with key `stake.vkey` to the pool belonging to cold key `cold.vkey`. If there are many staking keys as pool owners in the first step, we need delegation certificates for all of them.\n\n`stake.vkey`\n`cold.vkey`\n\n## Submit the certificates to the blockchain[​](#submit-the-certificates-to-the-blockchain \"Direct link to Submit the certificates to the blockchain\")\n\nTo understand the basics of submitting a transaction on the chain, refer to [Register Stake Address](/docs/operate-a-stake-pool/register-stake-address).\n\nRegistering a stake pool requires a deposit. This amount is specified in the already created `protocol.json`:\n\n`protocol.json`\n`stakePoolDeposit=$(cat protocol.json | jq -r '.stakePoolDeposit')  \necho $stakePoolDeposit`\n\nLet's find out how much balance is in our wallet:\n\n`cardano-cli query utxo \\  \n --address $(cat payment.addr) \\  \n --testnet-magic 1 > fullUtxo.out  \n  \ntail -n +3 fullUtxo.out | sort -k3 -nr > balance.out  \n  \ncat balance.out  \n  \ntx_in=\"\"  \ntotal_balance=0  \nwhile read -r utxo; do  \n type=$(awk '{ print $6 }' <<< \"${utxo}\")  \n if [[ ${type} == 'TxOutDatumNone' ]]  \n then  \n in_addr=$(awk '{ print $1 }' <<< \"${utxo}\")  \n idx=$(awk '{ print $2 }' <<< \"${utxo}\")  \n utxo_balance=$(awk '{ print $3 }' <<< \"${utxo}\")  \n total_balance=$((${total_balance}+${utxo_balance}))  \n echo TxHash: ${in_addr}#${idx}  \n echo ADA: ${utxo_balance}  \n tx_in=\"${tx_in} --tx-in ${in_addr}#${idx}\"  \n fi  \ndone < balance.out  \ntxcnt=$(cat balance.out | wc -l)  \necho Total available ADA balance: ${total_balance}  \necho Number of UTXOs: ${txcnt}`\n\nYou should get output similar to below:\n\n`Total available ADA balance: 9497237500  \nNumber of UTXOs: 1`\n\nCalculate the change for `--tx-out`. Since we don't know the exact transaction fees yet, we take 1 ada for the calculation:\n\n`--tx-out`\n`expr UTxO BALANCE - poolDeposit - TRANSACTION FEE`\n\nwhich in our case would be 9497237500 - 500000000 - 1000000 = 8996237500\n\n`cardano-cli conway transaction build \\  \n ${tx_in} \\  \n --tx-out $(cat payment.addr)+8996237500 \\  \n --change-address $(cat payment.addr) \\  \n --testnet-magic 1 \\  \n --certificate-file pool.cert \\  \n --certificate-file deleg.cert \\  \n --invalid-hereafter $(( ${currentSlot} + 1000)) \\  \n --witness-override 2 \\  \n --out-file tx.raw`\n\nwould give transaction fees as output like:\n\n`Estimated transaction fee: Lovelace 172189`\n\nSo now we replace the 1 ada with 172189 Lovelace in our calculation:\n\n`txOut=$((9497237500-${stakePoolDeposit}-172189))  \necho ${txOut}`\n\nBuild the transaction:\n\n`cardano-cli conway transaction build-raw \\  \n ${tx_in} \\  \n --tx-out $(cat payment.addr)+${txOut} \\  \n --invalid-hereafter $((${currentSlot} + 1000)) \\  \n --fee 172189 \\  \n --certificate-file pool.cert \\  \n --certificate-file deleg.cert \\  \n --out-file tx.raw`\n\nSign the transaction:\n\n`cardano-cli conway transaction sign \\  \n --tx-body-file tx.raw \\  \n --signing-key-file payment.skey \\  \n --signing-key-file cold.skey \\  \n --signing-key-file stake.skey \\  \n --testnet-magic 1 \\  \n --out-file tx.signed`\n\nSubmit the transaction:\n\n`cardano-cli conway transaction submit \\  \n --tx-file tx.signed \\  \n --testnet-magic 1`\n\nIn case you took a break, you might have passed the `--invalid-hereafter` slot and would get an error. In that case you would need to submit the transaction again with it's updated value.\nAnother common error message is `FeeTooSmallUTxO`, which means that the transaction fee we provided before is not enough and we need to change the fees to the new value provided with the error message and resubmit.\n\n`--invalid-hereafter`\n`FeeTooSmallUTxO`\n\n## Verify that your stake pool registration was successful[​](#verify-that-your-stake-pool-registration-was-successful \"Direct link to Verify that your stake pool registration was successful\")\n\nGet pool ID:\n\n`cardano-cli stake-pool id --cold-verification-key-file cold.vkey --output-format hex > stakepoolid.txt  \ncat stakepoolid.txt`\n\nCheck for the presence of your pool ID on the network, with:\n\n`cardano-cli query stake-snapshot --stake-pool-id $(cat stakepoolid.txt) --testnet-magic 1`\n\nA non-empty string returned means you're registered. Congratulations!\n\nAdditionally you can check your pool on any of the PreProd explorers like [PreProd Cexplorer](https://preprod.cexplorer.io/)",
  "images": [],
  "extraction_metadata": {
    "batch_number": 9,
    "extraction_timestamp": "2025-09-19T14:05:00.496633",
    "extraction_time": 2.430634021759033,
    "source": "tavily_api_raw"
  }
}